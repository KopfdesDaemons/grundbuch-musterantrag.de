<app-header></app-header>
<section>
  <div class="content-spacer">
    <app-login-card title="Passwort vergeben" imagePath="/images/liegenschaftskarte.avif" [description]="description">
      <svg class="icon" icon xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
        <path
          d="M416 160C416 124.7 444.7 96 480 96C515.3 96 544 124.7 544 160L544 192C544 209.7 558.3 224 576 224C593.7 224 608 209.7 608 192L608 160C608 89.3 550.7 32 480 32C409.3 32 352 89.3 352 160L352 224L192 224C156.7 224 128 252.7 128 288L128 512C128 547.3 156.7 576 192 576L448 576C483.3 576 512 547.3 512 512L512 288C512 252.7 483.3 224 448 224L416 224L416 160z"
        />
      </svg>
      <form content [formGroup]="form" (ngSubmit)="changePassword()">
        @if (form.get("oldPassword")?.errors?.["wrongPassword"]) {
          <span class="error">Falsches Passwort</span>
        }
        <div class="input-container">
          <input
            formControlName="oldPassword"
            #oldPassword
            type="password"
            id="oldPassword"
            name="oldPassword"
            autocomplete="current-oldPassword"
            spellcheck="false"
            placeholder="&nbsp;"
          />
          <label class="placeholder" for="oldPassword">Initialpasswort</label>
        </div>
        <div class="input-container">
          <input
            formControlName="password"
            type="password"
            id="password"
            name="password"
            autocomplete="current-password"
            spellcheck="false"
            placeholder="&nbsp;"
          />
          <label class="placeholder" for="password">Neues Passwort</label>
        </div>
        <div class="input-container">
          <input
            formControlName="confirmPassword"
            type="password"
            id="confirmPassword"
            name="confirmPassword"
            autocomplete="current-confirmPassword"
            spellcheck="false"
            placeholder="&nbsp;"
          />
          <label class="placeholder" for="confirmPassword">Neus Passwort wiederholen</label>
        </div>
        @if (form.get("confirmPassword")?.errors?.["passwordsDontMatch"]) {
          <span class="error">Passwörter stimmen nicht überein</span>
        }
        <button class="btn-outlined" type="submit">Passwort vergeben</button>
      </form>
    </app-login-card>
  </div>
</section>
